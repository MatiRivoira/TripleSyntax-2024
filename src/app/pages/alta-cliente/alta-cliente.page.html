<ion-content [ngClass]="scanActivo?'scanner-activo':''">
  <div class="spinner">
    <img src="../../assets/spinner.png " width="60%" [ngClass]="{'rotate-center' : this.spinner}"
      *ngIf="this.spinner" />
  </div>
    <!-- <ion-toolbar>
      <ion-buttons slot="start">
        <a routerLink="/login"><ion-icon style="color: white; font-size: 25px; margin-left: 7px;"
            name="arrow-back-outline"></ion-icon></a>
      </ion-buttons>

      <ion-title class="ion-text-center">
        REGISTRO CLIENTE
      </ion-title>
    </ion-toolbar> -->
  <div class="toggle">
    <ion-label>Modo<br>registro</ion-label>
    <ion-toggle (ionChange)="cambiarModo()"></ion-toggle>
    <ion-label>Modo<br>anónimo</ion-label>
  </div>

  <div class="pantalla" *ngIf="this.cliente.tipo != 'anonimo'">
    <br><br><br><br>
    <h1>REGISTRO DEL CLIENTE</h1>
    <ion-button style="border-radius: 5px;">Escanear DNI</ion-button>
    <div class="form">
      <div class="pagina">
        <ion-item class="ionitem">
            <ion-label position="floating">Nombre</ion-label>
            <ion-input class="primera-mayuscula"  type="text"></ion-input>
        </ion-item>
    
    
        <ion-item class="ionitem">
            <ion-label position="floating">Apellido</ion-label>
            <ion-input class="primera-mayuscula"  type="text"></ion-input>
        </ion-item>
    
    
        <ion-item class="ionitem">
            <ion-label position="floating">DNI</ion-label>
            <ion-input  type="number"></ion-input>
        </ion-item>
   

        <div class="registrar">
            <ion-button routerLink="/login">CANCELAR</ion-button>
            <ion-button 
            [disabled]="true">CONTINUAR</ion-button>
        </div>
      </div>
    </div>
  </div>

  <section *ngIf="this.cliente.tipo === 'anonimo'">
    <div class="div-foto">
      <img class="fto-cliente" (click)="sacarFoto()" src="{{src_imagen}}" alt="foto usuario" />
    </div>
    
    <p *ngIf="src_imagen === '/assets/icon/foto-avatar.avif'" class="text-center" style="color: black;">*Agregue foto (click
      en
      el logo)*</p>
    <form [formGroup]="formularioAlta" (ngSubmit)="registrar()" *ngIf="!scanActivo"
      style="width: 90%; display: block; margin-left: auto; margin-right: auto; height: fit-content;">
  
    
      <small class="invalid" *ngIf="formularioAlta.controls.tipo.errors?.required &&
  formularioAlta.controls.tipo.touched">
        El tipo es requerido
      </small>
  
      <!---ANONIMO-->
      <div *ngIf="this.cliente.tipo === 'anonimo'">
        <input type="text" formControlName="nombre" class="input" placeholder="Ingrese Nombre" />
        <small class="invalid" *ngIf="formularioAlta.controls.nombre.errors?.required &&
    formularioAlta.controls.nombre.touched">
          El nombre es requerido
        </small>
        <ion-button  expand="block" type="submit" style="margin-top: 20px;"><ion-icon
            id="logoLogIn" name="person-add-outline"></ion-icon>Registrar</ion-button>
      </div>
      <!--FIN ANONIMO-->
  
      <!--REGISTRADO-->
      <div *ngIf="this.cliente.tipo === 'registrado'">
  
  
        <div style="margin-top: 20px;">
          <input type="text" formControlName="nombre" class="input" placeholder="Ingrese Nombre" />
          <small class="invalid" *ngIf="formularioAlta.controls.nombre.errors?.required &&
              formularioAlta.controls.nombre.touched">
            El nombre es requerido
          </small>
          <input type="text" formControlName="apellido" class="input" placeholder="Ingrese Apellido" />
          <small class="invalid" *ngIf="formularioAlta.controls.apellido.errors?.required &&
  formularioAlta.controls.apellido.touched">
            El apellido es requerido
          </small>
          <input type="number" formControlName="dni" class="input" placeholder="Ingrese DNI" />
          <small class="invalid" *ngIf="formularioAlta.controls.dni.errors?.required &&
      formularioAlta.controls.dni.touched">
            El DNI es requerido
          </small>
          <small class="invalid" *ngIf="formularioAlta.controls.dni.errors?.pattern &&
      formularioAlta.controls.dni.touched">
            El DNI solo puede contener numeros
          </small>
        </div>
  
  
        <div style="height: 100%; margin-bottom: 20px;">
          <input type="text" formControlName="email" class="input" placeholder="Ingrese Correo electrónico" />
          <small class="invalid" *ngIf="formularioAlta.controls.email.errors?.required &&
    formularioAlta.controls.email.touched">
            El correo electrónico es requerido
          </small>
          <small class="invalid" *ngIf="formularioAlta.controls.email.errors?.email &&
              formularioAlta.controls.email.touched">
            El correo electrónico no tiene un formato valido
          </small>
          <input type="password" formControlName="contrasena" class="input" placeholder="Ingrese Contraseña" />
          <small class="invalid" *ngIf="formularioAlta.controls.contrasena.errors?.required &&
    formularioAlta.controls.contrasena.touched">
            La contraseña es requerida
          </small>
          <input type="password" formControlName="repetirContrasena" class="input"
            placeholder="Ingrese Confirmar contraseña" />
          <small class="invalid" *ngIf="formularioAlta.controls.repetirContrasena.errors?.required &&
    formularioAlta.controls.repetirContrasena.touched">
            Confirme la contraseña
          </small>
        </div>
  
        <ion-button style="margin-right: 5px; margin-top: 20px;" *ngIf="this.cliente.tipo === 'registrado'"
          (click)="escanearDocumento()" expand="block"><ion-icon id="logoLogIn" name="qr-code"></ion-icon>Escanear
          DNI</ion-button>
        <ion-button [disabled]="formularioAlta.invalid" expand="block" type="submit" style="margin-top: 20px;"><ion-icon
            id="logoLogIn" name="person-add-outline"></ion-icon>Registrar</ion-button>
      </div>
    </form>
  
    <div *ngIf="scanActivo">
      <div class="scan">
        <div class="qrcode"></div>
        <div class="border"></div>
      </div>
      <button class="boton" (click)="pararScan()">Detener</button>
    </div>
  </section>
 
</ion-content>